<div class="specialist" fxLayout="row">

  <div class="note" *ngIf="!loading && favoriteClinics.length === 0">
    No Favorite Specialists.
  </div>

  <div class="list" [ngClass]="{'fade': showCreateReferral}" fxFlex="500px" fxLayout="column" fxLayoutGap="24px">
    <div>
      <button mat-raised-button (click)="editFavorites()" [disabled]="loading">Edit Favorites</button>
    </div>

    <app-loader class="loading" *ngIf="loading"></app-loader>

    <mat-card class="favorite-specialist" fxLayout="column" fxLayoutAlign=" start" *ngFor="let a of favoriteClinics">
      <div #favoriteCardEls class="specialist-title">{{a.name}}</div>

      <div>{{a.type}}</div>

      <div class="rating" *ngIf="a.rating">
        <span class="score">{{a.rating}}</span>
        <div class="stars" [style]="'--rating: ' + a.rating"></div>
        <span class="count">({{a.ratingCount}})</span>
        <ng-container *ngIf="a.types">&middot; {{a.types[0]}}</ng-container>
      </div>

      <div>{{a.phoneNumber}}</div>
      <div>{{a.address}}</div>

      <div fxFlex></div>

      <button mat-raised-button (click)="createReferral(a, favoriteCardEls)">Create Referral</button>
    </mat-card>
  </div>

  <div class="selected-referral" #refEl>
    <mat-card class="favorite-specialist" fxLayout="column" fxLayoutAlign=" start">
      <div #refCardEl class="specialist-title">{{selectedReferral?.name}}</div>

      <div>{{selectedReferral?.type}}</div>

      <div class="rating" *ngIf="selectedReferral && selectedReferral.rating">
        <span class="score">{{selectedReferral.rating}}</span>
        <div class="stars" [style]="'--rating: ' + selectedReferral.rating"></div>
        <span class="count">({{selectedReferral.ratingCount}})</span>
        <ng-container *ngIf="selectedReferral.types">&middot; {{selectedReferral.types[0]}}</ng-container>
      </div>

      <div>{{selectedReferral?.phoneNumber}}</div>
      <div>{{selectedReferral?.address}}</div>
    </mat-card>
  </div>

  <div class="create-referral" *ngIf="showCreateReferral">
    <mat-card>
      <app-create-referral (cancel)="cancel()" [fromAddressId]="addressId" [specialty]="selectedSpecialty"
        [placeId]="selectedPlaceId">
      </app-create-referral>
    </mat-card>
  </div>
</div>